// changes a cvar and reports it to the server (for the menu to notify the
// server about changes)
alias setreport "set \"$1\" \"$2\" ; sendcvar \"$1\""

seta cl_firststart "" "how many times the client has been run"
seta cl_startcount 0 "how many times the client has been run"

// other aliases
alias +hook +button6
alias -hook -button6
alias +jetpack +button10
alias -jetpack -button10
alias +dodge +button11
alias -dodge -button11
alias use "impulse 21"

// for backwards compatibility
// TODO Remove after 0.8 release!
cl_particles_forcetraileffects 1

alias dropweapon "impulse 17"
alias +show_info +button7
alias -show_info -button7

// player defaults
_cl_color "112.211" // same effect as 112, but menuqc can detect this as the default and not intentionally set
_cl_name ""
seta _cl_gender 0 "storage cvar for current player gender (0 = undisclosed, 1 = male, 2 = female)"
_cl_playermodel models/player/erebus.iqm
_cl_playerskin 0

seta cl_reticle 1 "enable zoom reticles"
seta cl_reticle_stretch 0 "stretch reticles so they fit the screen (breaks image proportions)"
seta cl_reticle_normal 1 "draw an aiming reticle when zooming with the zoom button"
seta cl_reticle_normal_alpha 1 "alpha of the normal reticle"
seta cl_reticle_weapon 1 "draw custom aiming reticle when zooming with certain weapons"
seta cl_reticle_weapon_alpha 1 "alpha of the custom reticle"

fov 100
seta cl_velocityzoom_enabled 0 "velocity based zooming of fov"
seta cl_velocityzoom_factor 0 "factor of fov zooming (negative values zoom out)"
seta cl_velocityzoom_type 3 "how to factor in speed, 1 = all velocity in all directions, 2 = velocity only in forward direction (can be negative), 3 = velocity only in forward direction (limited to forward only)"
seta cl_velocityzoom_speed 1000 "target speed for fov factoring"
seta cl_velocityzoom_time 0.2	"time value for averaging speed values"
seta cl_spawnzoom 1 "zoom effect immediately when a player spawns"
seta cl_spawnzoom_speed 1 "speed at which zooming occurs while spawning"
seta cl_spawnzoom_factor 2 "factor of zoom while spawning"
seta cl_zoomfactor 5	"how much +zoom will zoom (1-30)"
seta cl_zoomspeed 8	"how fast it will zoom (0.5-16), negative values mean instant zoom"
seta cl_zoomsensitivity 0	"how zoom changes sensitivity (0 = weakest, 1 = strongest)"

seta cl_unpress_zoom_on_spawn 1 "automatically unpress zoom when you spawn"
seta cl_unpress_zoom_on_death 1 "automatically unpress zoom when you die (and don't allow zoom again while dead)"
seta cl_unpress_zoom_on_weapon_switch 1 "automatically unpress zoom when you switch a weapon"
seta cl_unpress_attack_on_weapon_switch 0 "automatically unpress fire and fire1 attack buttons when you switch a weapon"

seta cl_spawn_event_particles 1 "pointparticles effect whenever a player spawns"
seta cl_spawn_event_sound 1 "sound effect whenever a player spawns"
//seta cl_spawn_point_model 0 "place a model at all spawn points" // still needs a model
seta cl_spawn_point_particles 1 "pointparticles effect at all spawn points" // managed by effects-.cfg files
seta cl_spawn_point_dist_min 1200
seta cl_spawn_point_dist_max 1600

freelook 1
sensitivity 6
v_gamma 1
viewsize 100
bgmvolume 1
volume 0.5
// fullscreen 1024x768x32bit
vid_bitsperpixel 32
vid_fullscreen 1
vid_width 1024
vid_height 768
vid_pixelheight 1
vid_resizable 0 // cannot be turned on before it is sure it cannot cause a r_restart
vid_desktopfullscreen 1
prvm_language en
set _menu_prvm_language ""
set _menu_vid_width "$vid_width"
set _menu_vid_height "$vid_height"
set _menu_vid_pixelheight "$vid_pixelheight"
set _menu_vid_desktopfullscreen "$vid_desktopfullscreen"
seta menu_vid_scale 0
seta menu_vid_allowdualscreenresolution 0
// 2D resolution 800x600
vid_conwidth 800
vid_conheight 600
// menu_conwidth, menu_conheight are set inside quake.rc
v_deathtilt 0 // needed for spectators (who are dead to avoid prediction)

// we want to use sRGB for our maps!
exec sRGB-disable.cfg
vid_sRGB_fallback 2
r_hdr_glowintensity 1
// #define Image_LinearFloatFromsRGBFloat(c) (((c) <= 0.04045f) ? (c) * (1.0f / 12.92f) : (float)pow(((c) + 0.055f)*(1.0f/1.055f), 2.4f))
set rpn_sRGB_to_linear "dup 0.055 add 1.055 div 2.4 pow exch 12.92 div dup 0.0031308 gt when"
// #define Image_sRGBFloatFromLinearFloat(c) (((c) < 0.0031308f) ? (c) * 12.92f : 1.055f * (float)pow((c), 1.0f/2.4f) - 0.055f)
set rpn_linear_to_sRGB "dup 1.0 2.4 div pow 1.055 mul 0.055 sub exch 12.92 mul dup 0.04045 ge when"

// -nosRGB to -sRGB sky shader conversion:
//
// q3map_sunExt 1 0.6875 0.375 340 25 47 0 16
//                                    ^^ elevation
//                             ^^^ sunlight
// q3map_skylight 110 3
//                ^^^ skylight
//
// With that, do (the last parameter is the ratio of skylight you assume hits
// the surfaces, about 0.25 for inner surfaces near sky, about 1.00 on
// terrain):
// ]skybox_nosRGB_to_sRGB 340 47 110 0.25
// rpn: still on stack: new_sunlight:
// rpn: still on stack: 380.464142
// rpn: still on stack: new_skylight:
// rpn: still on stack: 9.32523632
//
// The equivalent -sRGB shader then will have:
//
// q3map_sunExt 1 0.6875 0.375 380.464142 25 47 0 16
// q3map_skylight 9.32523632 3
alias skybox_nosRGB_to_sRGB "rpn $3 402.123 $4 div div $rpn_sRGB_to_linear 402.123 $4 div mul /new_skylight: $3 402.123 $4 div div $1 256 div $2 0.017453 mul sin mul add $rpn_sRGB_to_linear $3 402.123 $4 div div $rpn_sRGB_to_linear sub 256 mul $2 0.017453 mul sin div /new_sunlight:"

set cl_orthoview 0 "enable top-down view of the map- meant to be used for radar map images (note: orthoview sets cvars temporarily, requires restart to return them to normal)"
set cl_orthoview_nofog 1 "disable fog while in orthoview-- note, should not be enabled on ALL maps, i.e. oilrig works fine with this disabled"

// these settings determine how much the view is affected by movement/damage
cl_smoothviewheight 0.05 // time of the averaging to the viewheight value so that it creates a smooth transition for crouching and such. 0 for instant transition
cl_deathfade 0 // fade screen to dark red when dead, value represents how fast the fade is (higher is faster)
cl_bobcycle 0.5 // how long the cycle of up/down view movement takes (only works if cl_bob is not 0), default is 0.6
cl_bob 0 // how much view moves up/down when moving (does not move if cl_bobcycle is 0, but still enables cl_bobmodel), default is 0.02
cl_bob2cycle 1 // how long the cycle of left/right view movement takes (only works if cl_bob2 is not 0), default is 0.6
cl_bob2 0 // how much view moves left/right when moving (does not move if cl_bob2cycle is 0), default is 0.01
cl_bobfall 0.05 "how much the view swings down when falling (influenced by the speed you hit the ground with)"
cl_bobfallcycle 3 "speed of the bobfall swing"
cl_bobfallspeed 200 "necessary amount of speed for bob-falling to occur"
cl_bobmodel 1 // whether to have gun model move around on screen when moving (only works if cl_bob is not 0), default is 1
cl_bobmodel_side 0.2 // amount the gun sways to the sides
cl_bobmodel_speed 10 // rate at which the gun sways
cl_bobmodel_up 0.1 // amount the gun sways up and down

cl_followmodel 1 // enables weapon pushing / pulling effect when walking
seta cl_followmodel_speed 0.3 "gun following speed"
seta cl_followmodel_limit 135 "gun following limit"
seta cl_followmodel_velocity_absolute 0 "make the effect ignore velocity direction changes (side effect: it causes a glitch when teleporting / passing through a warpzone)"
seta cl_followmodel_velocity_lowpass 0.05 "gun following velocity lowpass averaging time"
seta cl_followmodel_highpass 0.05 "gun following highpass averaging time"
seta cl_followmodel_lowpass 0.03 "gun following lowpass averaging time"

cl_leanmodel 1 // enables weapon leaning effect when looking around
seta cl_leanmodel_speed 0.3 "gun leaning speed"
seta cl_leanmodel_limit 30 "gun leaning limit"
seta cl_leanmodel_highpass1 0.2 "gun leaning pre-highpass averaging time"
seta cl_leanmodel_highpass 0.2 "gun leaning highpass averaging time"
seta cl_leanmodel_lowpass 0.05 "gun leaning lowpass averaging time"

cl_rollangle 0 // amount of view tilt when strafing, default is 2.0
v_kicktime 0 // how long damage kicks of the view last, default is 0 seconds
gl_polyblend 0 // whether to use screen tints, this has now been replaced by a better system in CSQC
r_motionblur 0 // motion blur value, default is 0
r_damageblur 0 // motion blur when damaged, default is 0 (removed in Xonotic)

r_bloom_blur 4
r_bloom_brighten 2
r_bloom_colorexponent 1
r_bloom_colorscale 1
r_bloom_colorsubtract 0.125
r_bloom_resolution 320
r_bloom_scenebrightness 0.85

seta vid_x11_display ""	"xonotic-linux-*.sh will use this to start xonotic on an other/new X display"
// This can have three possible settings:
//	""		run as usual
//	":n"		use DISPLAY=:n, create it if needed
//	":n/layout"	use DISPLAY=:n, create it if needed with ServerLayout layout

cl_autodemo_nameformat demos/%Y-%m-%d_%H-%M

// taunts and voices
seta cl_autotaunt 0 "automatically taunt enemies when fragging them"
seta cl_voice_directional 1	"0 = all voices are non-directional, 1 = all voices are directional, 2 = only taunts are directional"
seta cl_voice_directional_taunt_attenuation 0.5 "this defines the distance from which taunts can be heard"
